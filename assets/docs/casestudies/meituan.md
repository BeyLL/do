# 美团


## 美团外卖

来源：[美团外卖持续交付的前世今生](https://tech.meituan.com/2020/02/13/meituan-waimai-continuous-delivery.html)

### 自动化版本管理系统

#### 人工操作事件

```process-step
 - 开发阶段
   - 创建外卖新版本分支
   - 版本降级检查 
   - 全源码检查 
   - 每日包号周知
   - 周迭代提测
   - 包大小统计
   - 迭代包提测
   - 一轮提测
   - 提测邮件
 - 一轮提测
   - 每日包号提测
   - 全源码检查
   - 仓库拉出 release 分支
   - UI 走查提醒
   - 二轮提测
   - 提测邮件
 - 二轮提测
   - 每日包号提测
   - 全源码检查
   - 三轮提测
   - 提测邮件
 - 三轮提测
   - 每日包号提测
   - 仓库 relase 分支合并
   - 仓库集成到团 release
   - 基础库同步到下版本
   - 代码集成提醒
 - 灰度阶段
   - 版本人力统计
 - 全量阶段
   - 全量上线周知
```

### 持续集成建设

```mindmap
 - CI 建设
  - 开发阶段准备 
    - 拉 Aimeituan 工程的开发分支
    - 修改开发分支版本号
    - Aimeituan 工程独立编译自动配置
  - PR 检测
    - 静态检测
    - 增量检测
      - SDK
      - 包大小
    - 单测
  - 开发阶段
    - 定时检测壳工程是否有更新，触发自动打包
    - 每日最新版本号提醒
  - 提测阶段
    - 冒烟提醒
    - 自动拉提测分支
    - 业务库检测是否有 PR 未合入
    - 提测打包、发提测邮件
  - 发版阶段
    - 分支合并
    - 外卖业务库合入 Aimeituan 提测分支
    - 全量提醒   
```
